{% extends "base.html" %}

{% block title %}Feedback list{% endblock %}

{% block content %}
<ul id="feedback-list">
    {% for feedback in feedbacks %}
        <li class="feedback-item">
            <div class="feedback-header">
                <a href="/feedback/{{ feedback.id_feedback }}">
                    <b class="feedback-title">{{ feedback.title }}</b>
                </a>
                <span class="feedback-meta">
                    Stworzony: {{ feedback.created_at }} | 
                    Priorytet: {{ feedback.priority }} | 
                    {% if feedback.for_post %}  {% comment %} Post > User > Group, TODO, properly make these fields exclusive so this doesn't need to be a thing {% endcomment %}
                        Do postu: 
                        <a href="/post/{{ feedback.for_post.id_post }}">
                            {{ feedback.for_post }}
                        </a> |
                    {% elif feedback.for_user %}
                        Dla u≈ºytkownika: 
                        <a href="/profile/{{ feedback.for_user }}">
                            {{ feedback.for_user }}
                        </a> |
                    {% elif feedback.for_group %}
                        Dla grupy: 
                        <a href="/groups/{{ feedback.for_group.id_group }}">
                            {{ feedback.for_group }}
                        </a> |
                    {% endif %}
                </span>
            </div>
            <div class="feedback-body">
                <p><b>Poster:</b> {{ feedback.created_by }}</p>
                <p class="text-container">{{ feedback.content }}</p>
            </div>
            <div class="feedback-footer">
                <span><b>Ocena:</b> {{ feedback.rating }}/5</span>
                <span><b>üëç:</b> {{ feedback.likes }}</span>
            </div>
        </li>
    {% endfor %}
</ul>
{% endblock %}