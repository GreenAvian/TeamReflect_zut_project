{% extends 'base.html' %}

{% block title %}Lista postów{% endblock %}

{% block content %}
<div class="post-list-container">
    
    <h1 class="post-list-title">Lista Postów</h1>
    
    {% if posts %}
            <ul class="post-list">
                {% for post in posts %}
                <a href="/post/{{post.id_post}}">
                    <li class="post-item">
                            <p class="post-name">Temat: {{ post.topic }}</p>
                            <p class="post-content">{{ post.content }}</p>
                            <p>Tag: {{ post.tag }}</p>
                    </li>
                </a>
                {% endfor %}
            </ul>
            
      
    {% else %}
        <p class="no-posts-message">Nie ma żadnych postów</p>
    {% endif %}

</div>
<form method="get" style="text-align: right; margin-bottom: 20px;">
    <label for="sort"><b>Sortuj według:</b></label>
    <select name="sort" id="sort" onchange="this.form.submit()">
        <option value="newest" {% if sort == "newest" or not sort %}selected{% endif %}>📅 Najnowsze</option>
        <option value="oldest" {% if sort == "oldest" %}selected{% endif %}>📆 Najstarsze</option>
        <option value="title_asc" {% if sort == "title_asc" %}selected{% endif %}>🔤 Tytuł (A-Z)</option>
        <option value="title_desc" {% if sort == "title_desc" %}selected{% endif %}>🔤 Tytuł (Z-A)</option>
        <option value="tag_ankieta" {% if sort == "tag_ankieta" %}selected{% endif %}>📊 Tylko Ankiety</option>
        <option value="tag_ogolny" {% if sort == "tag_ogolny" %}selected{% endif %}>📘 Tylko Ogólne</option>
        <option value="tag_zadanie" {% if sort == "tag_zadanie" %}selected{% endif %}>📝 Tylko Zadania</option>
    </select>
</form>
{% endblock %}